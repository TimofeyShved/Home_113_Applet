# Applet

Апплет — это Java-программа, которая запускается в веб-браузере. Апплет может быть полнофункциональным Java-приложением, поскольку в его распоряжении находится весь Java API.

Между апплетом и автономным Java-приложением есть несколько важных отличий, включая следующие:

<ul>
<li>
Апплет — это класс Java, который расширяет класс java.applet.Applet.
</li><li>
Метод main () не вызывается в апплете, и класс апплета не будет определять main ().
</li><li>
Апплеты предназначены для встраивания в HTML-страницу.
</li><li>
Когда пользователь просматривает HTML-страницу, которая содержит апплет, код для апплета загружается на компьютер пользователя.
</li><li>
JVM требуется для просмотра апплета. JVM может быть подключаемым модулем веб-браузера или отдельной средой выполнения.
</li><li>
JVM на компьютере пользователя создает экземпляр класса апплета и вызывает различные методы в течение жизни апплета.
</li><li>
Апплеты имеют строгие правила безопасности, которые применяются веб-браузером. Безопасность апплета часто упоминается как безопасность песочницы, сравнивая апплет с ребенком, играющим в песочнице с различными правилами, которые необходимо соблюдать.
</li><li>
Другие классы, в которых нуждается апплет, могут быть загружены в один файл Java Archive (JAR).
</li>
</ul>

Апплет — это класс Java, который расширяет класс java.applet.Applet.

Метод main () не вызывается в апплете, и класс апплета не будет определять main ().

Апплеты предназначены для встраивания в HTML-страницу.

Когда пользователь просматривает HTML-страницу, которая содержит апплет, код для апплета загружается на компьютер пользователя.

JVM требуется для просмотра апплета. JVM может быть подключаемым модулем веб-браузера или отдельной средой выполнения.

JVM на компьютере пользователя создает экземпляр класса апплета и вызывает различные методы в течение жизни апплета.

Апплеты имеют строгие правила безопасности, которые применяются веб-браузером. Безопасность апплета часто упоминается как безопасность песочницы, сравнивая апплет с ребенком, играющим в песочнице с различными правилами, которые необходимо соблюдать.

Другие классы, в которых нуждается апплет, могут быть загружены в один файл Java Archive (JAR).

Жизненный цикл апплета
---

Четыре метода в классе Applet дают вам основу для построения любого серьезного апплета —

<ul><li>
init — Этот метод предназначен для любой инициализации, необходимой для вашего апплета. Он вызывается после обработки тегов param внутри тега applet.
</li><li>
start — этот метод вызывается автоматически после того, как браузер вызывает метод init. Он также вызывается всякий раз, когда пользователь возвращается на страницу, содержащую апплет, после перехода на другие страницы.
</li><li>
stop — этот метод вызывается автоматически, когда пользователь покидает страницу, на которой находится апплет. Поэтому его можно вызывать повторно в одном и том же апплете.
</li><li>
уничтожить — этот метод вызывается только тогда, когда браузер выключается нормально. Поскольку апплеты предназначены для жизни на HTML-странице, обычно не следует оставлять ресурсы после того, как пользователь покидает страницу, содержащую апплет.
</li><li>
paint — вызывается сразу после метода start (), а также в любое время, когда апплет должен перерисовать себя в браузере. Метод paint () фактически унаследован от java.awt.

init — Этот метод предназначен для любой инициализации, необходимой для вашего апплета. Он вызывается после обработки тегов param внутри тега applet.
</li><li>
start — этот метод вызывается автоматически после того, как браузер вызывает метод init. Он также вызывается всякий раз, когда пользователь возвращается на страницу, содержащую апплет, после перехода на другие страницы.
</li><li>
stop — этот метод вызывается автоматически, когда пользователь покидает страницу, на которой находится апплет. Поэтому его можно вызывать повторно в одном и том же апплете.
</li><li>
уничтожить — этот метод вызывается только тогда, когда браузер выключается нормально. Поскольку апплеты предназначены для жизни на HTML-странице, обычно не следует оставлять ресурсы после того, как пользователь покидает страницу, содержащую апплет.
</li><li>
paint — вызывается сразу после метода start (), а также в любое время, когда апплет должен перерисовать себя в браузере. Метод paint () фактически унаследован от java.awt.
</li></ul>

Апплет «Привет, мир»
---

Приведен простой апплет с именем HelloWorldApplet.java —
Эти операторы импорта переносят классы в область действия нашего класса апплета —
Без этих операторов импорта компилятор Java не распознал бы классы Applet и Graphics, на которые ссылается класс applet.

Апплет Класс
---

Каждый апплет является расширением класса java.applet.Applet . Базовый класс Applet предоставляет методы, которые производный класс Applet может вызывать для получения информации и услуг из контекста браузера.

К ним относятся методы, которые делают следующее —
<ul><li>
Получить параметры апплета</li><li>
Получить сетевое расположение файла HTML, который содержит апплет</li><li>
Получить сетевое расположение каталога класса апплета</li><li>
Распечатать сообщение о состоянии в браузере</li><li>
Получить изображение</li><li>
Получить аудиоклип</li><li>
Воспроизвести аудиоклип</li><li>
Изменить размер апплета</li></ul>

Кроме того, класс Applet предоставляет интерфейс, с помощью которого средство просмотра или браузер получает информацию об апплете и контролирует выполнение апплета. Зритель может —
<ul><li>
Запрос информации об авторе, версии и авторских правах апплета</li><li>
Запросить описание параметров, которые распознает апплет</li><li>
Инициализировать апплет</li><li>
Уничтожить апплет</li><li>
Запустить выполнение апплета</li><li>
Остановить выполнение апплета</li></ul>

Класс Applet предоставляет реализации по умолчанию для каждого из этих методов. Эти реализации могут быть переопределены при необходимости.

Апплет «Hello, World» завершен. Единственный переопределенный метод — метод рисования.

Вызов апплета
---

Апплет может быть вызван встраиванием директив в файл HTML и просмотром файла через средство просмотра апплета или браузер с поддержкой Java.

Тег <applet> является основой для встраивания апплета в файл HTML. приведен пример, который вызывает апплет «Hello, World» —

Примечание. Вы можете обратиться к тегу апплета HTML, чтобы узнать больше о вызове апплета из HTML.

Атрибут кода тега <applet> является обязательным. Он определяет класс Applet для запуска. Ширина и высота также необходимы для указания начального размера панели, в которой запускается апплет. Директива апплета должна быть закрыта тегом </ applet>.

Если апплет принимает параметры, значения можно передать для параметров, добавив теги <param> между <applet> и </ applet>. Браузер игнорирует текст и другие теги между тегами апплета.

Браузеры без поддержки Java не обрабатывают <applet> и </ applet>. Поэтому все, что появляется между тегами, не связанными с апплетом, видно в браузерах без поддержки Java.

Зритель или браузер ищет скомпилированный код Java в месте нахождения документа. Чтобы указать другое, используйте атрибут codebase тега <applet>, как показано  —

<applet codebase = "https://amrood.com/applets" code = "HelloWorldApplet.class"
   width = "320" height = "120">
   
Если апплет находится в пакете, отличном от пакета по умолчанию, в атрибуте кода необходимо указать удерживающий пакет, используя символ точки (.) Для разделения компонентов пакета / класса. Например —

<applet  = "mypackage.subpackage.TestApplet.class" 
   width = "320" height = "120">
   
Получение параметров апплета
---

В следующем примере показано, как заставить апплет реагировать на параметры настройки, указанные в документе. Этот апплет отображает рисунок шахматной доски черного и второго цвета.

Второй цвет и размер каждого квадрата могут быть указаны как параметры для апплета в документе.

CheckerApplet получает свои параметры в методе init (). Он также может получить свои параметры в методе paint (). Однако получить значения и сохранить настройки один раз в начале апплета, а не при каждом обновлении, удобно и эффективно.

Программа просмотра или браузер апплета вызывает метод init () каждого запускаемого им апплета. Зритель вызывает init () один раз, сразу после загрузки апплета. (Applet.init () реализован, чтобы ничего не делать.) Переопределите реализацию по умолчанию, чтобы вставить пользовательский код инициализации.

Метод Applet.getParameter () извлекает параметр по имени параметра (значение параметра всегда является строкой). Если значение является числовым или другими не символьными данными, строка должна быть проанализирована.


Апплет вызывает parseSquareSize () для анализа параметра squareSize. parseSquareSize () вызывает метод библиотеки Integer.parseInt (), который анализирует строку и возвращает целое число. Integer.parseInt () генерирует исключение всякий раз, когда его аргумент недопустим.

Поэтому parseSquareSize () перехватывает исключения, а не позволяет сбою апплета при неправильном вводе.

Апплет вызывает parseColor () для разбора параметра цвета в значение Color. parseColor () выполняет серию сравнений строк, чтобы сопоставить значение параметра с именем предопределенного цвета. Вам нужно реализовать эти методы, чтобы этот апплет работал.

Указание параметров апплета

Примечание. Имена параметров не чувствительны к регистру.

Преобразование приложения в апплеты
---

Легко преобразовать графическое Java-приложение (то есть приложение, которое использует AWT и которое можно запустить с помощью средства запуска Java-программ) в апплет, который можно встроить в веб-страницу.

Ниже приведены конкретные шаги для преобразования приложения в апплет.

Создайте HTML-страницу с соответствующим тегом для загрузки кода апплета.

Поставьте подкласс класса JApplet. Сделайте этот класс публичным. В противном случае апплет не может быть загружен.

Исключите основной метод в приложении. Не создавайте рамочное окно для приложения. Ваше приложение будет отображаться внутри браузера.

Переместите любой код инициализации из конструктора окна фрейма в метод init апплета. Вам не нужно явно создавать объект апплета. Браузер создает его для вас и вызывает метод init.

Удалить вызов setSize; для апплетов изменение размера производится с помощью параметров ширины и высоты в файле HTML.

Удалить вызов setDefaultCloseOperation. Апплет не может быть закрыт; он завершается при выходе из браузера.

Если приложение вызывает setTitle, исключите вызов метода. Апплеты не могут иметь строки заголовка. (Конечно, вы можете озаглавить саму веб-страницу, используя тег заголовка HTML.)

Не вызывайте setVisible (true). Апплет отображается автоматически.

Создайте HTML-страницу с соответствующим тегом для загрузки кода апплета.

Поставьте подкласс класса JApplet. Сделайте этот класс публичным. В противном случае апплет не может быть загружен.

Исключите основной метод в приложении. Не создавайте рамочное окно для приложения. Ваше приложение будет отображаться внутри браузера.

Переместите любой код инициализации из конструктора окна фрейма в метод init апплета. Вам не нужно явно создавать объект апплета. Браузер создает его для вас и вызывает метод init.

Удалить вызов setSize; для апплетов изменение размера производится с помощью параметров ширины и высоты в файле HTML.

Удалить вызов setDefaultCloseOperation. Апплет не может быть закрыт; он завершается при выходе из браузера.

Если приложение вызывает setTitle, исключите вызов метода. Апплеты не могут иметь строки заголовка. (Конечно, вы можете озаглавить саму веб-страницу, используя тег заголовка HTML.)

Не вызывайте setVisible (true). Апплет отображается автоматически.

Обработка событий
---

Апплеты наследуют группу методов обработки событий из класса Container. Класс Container определяет несколько методов, таких как processKeyEvent и processMouseEvent, для обработки определенных типов событий, а затем один метод catch-all, называемый processEvent.


Чтобы отреагировать на событие, апплет должен переопределить соответствующий специфичный для события метод.


Первоначально, апплет отобразит «инициализация апплета. Запуск апплета». Затем, как только вы нажмете внутри прямоугольника, будет отображаться «щелчок мышью».


Отображение изображений
---

Апплет может отображать изображения в формате GIF, JPEG, BMP и других. Чтобы отобразить изображение в апплете, вы используете метод drawImage (), найденный в классе java.awt.Graphics.

Воспроизведение аудио
---

Апплет может воспроизводить аудиофайл, представленный интерфейсом AudioClip в пакете java.applet. Интерфейс AudioClip имеет три метода, в том числе —
<ul>
<li>
public void play () — воспроизводит аудиоклип один раз с начала.
</li><li>
public void loop () — Заставляет непрерывно воспроизводить аудиоклип.
</li><li>
public void stop () — останавливает воспроизведение аудиоклипа.
</li><li>
public void play () — воспроизводит аудиоклип один раз с начала.
</li><li>
public void loop () — Заставляет непрерывно воспроизводить аудиоклип.
</li><li>
public void stop () — останавливает воспроизведение аудиоклипа.
</li>
</ul>


Чтобы получить объект AudioClip, вы должны вызвать метод getAudioClip () класса Applet. Метод getAudioClip () немедленно возвращает значение независимо от того, преобразуется ли URL в реальный аудиофайл. Аудиофайл не загружается до тех пор, пока не будет предпринята попытка воспроизвести аудиоклип.

